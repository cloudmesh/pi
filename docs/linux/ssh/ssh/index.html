<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.79.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/pi/favicons/favicon.ico><link rel=apple-touch-icon href=/pi/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/pi/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/pi/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/pi/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/pi/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/pi/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/pi/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/pi/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/pi/favicons/android-192x192.png sizes=192x192><title>SSH | Cloudmesh Cluster Pi Planet</title><meta property="og:title" content="SSH"><meta property="og:description" content="Learning Objectives
For distributed computing understanding SSH is an important goal. It allows you to securely log in to your nodes on the cluster.
 This is a very important topic, studdy it carefully. Learn how to use SSH keys Learn how to use ssh-add and ssh-keycahin so you only have to type in your password once Understand that each computer needs its own ssh key  Topics Covered"><meta property="og:type" content="article"><meta property="og:url" content="https://cloudmesh.github.io/pi/docs/linux/ssh/ssh/"><meta property="article:modified_time" content="2021-02-09T23:03:52-05:00"><meta property="og:site_name" content="Cloudmesh Cluster Pi Planet"><meta itemprop=name content="SSH"><meta itemprop=description content="Learning Objectives
For distributed computing understanding SSH is an important goal. It allows you to securely log in to your nodes on the cluster.
 This is a very important topic, studdy it carefully. Learn how to use SSH keys Learn how to use ssh-add and ssh-keycahin so you only have to type in your password once Understand that each computer needs its own ssh key  Topics Covered"><meta itemprop=dateModified content="2021-02-09T23:03:52-05:00"><meta itemprop=wordCount content="3177"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="SSH"><meta name=twitter:description content="Learning Objectives
For distributed computing understanding SSH is an important goal. It allows you to securely log in to your nodes on the cluster.
 This is a very important topic, studdy it carefully. Learn how to use SSH keys Learn how to use ssh-add and ssh-keycahin so you only have to type in your password once Understand that each computer needs its own ssh key  Topics Covered"><link rel=preload href=/pi/scss/main.min.4aec00cbc82dae02258a2ba135990358146339f666dc47346f0f1e49d7a6fa42.css as=style><link href=/pi/scss/main.min.4aec00cbc82dae02258a2ba135990358146339f666dc47346f0f1e49d7a6fa42.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/pi/><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zM197.0804 232.033c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zM197.0839 232.0372c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zM197.0839 232.0372c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zM197.0804 177.6188c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zM197.0839 177.623c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zM197.0839 177.623c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zM197.5309 286.4723c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zM197.5344 286.4765c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zM197.5344 286.4765c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zM197.0804 340.5784c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zM197.0839 340.5826c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zM197.0839 340.5826c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="text-uppercase font-weight-bold">Cloudmesh Cluster Pi Planet</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/pi/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/pi/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/pi/docs/collection/><span>Links</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/pi/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/pi/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=pidocs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/linux/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Linux</a></li><ul><li class="collapse show" id=pidocslinux><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/linux/shell/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Shell</a></li><ul><li class=collapse id=pidocslinuxshell><a class="td-sidebar-link td-sidebar-link__page" id=m-pidocslinuxshelllinux href=/pi/docs/linux/shell/linux/>Linux Shell</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocslinuxshellperl href=/pi/docs/linux/shell/perl/>Perl One Liners</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocslinuxshellzsh href=/pi/docs/linux/shell/zsh/>ZSH</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/linux/ssh/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">SSH</a></li><ul><li class="collapse show" id=pidocslinuxssh><a class="td-sidebar-link td-sidebar-link__page active" id=m-pidocslinuxsshssh href=/pi/docs/linux/ssh/ssh/>Introduction</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocslinuxsshssh-windows href=/pi/docs/linux/ssh/ssh-windows/>Windows</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-pidocslinuxrecording href=/pi/docs/linux/recording/>Recordings</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocslinuxrefcards href=/pi/docs/linux/refcards/>Refcards</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/web/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Web</a></li><ul><li class=collapse id=pidocsweb><a class="td-sidebar-link td-sidebar-link__page" id=m-pidocswebhugo href=/pi/docs/web/hugo/>Hugo Themes</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/cloudmesh-rest/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Analytics Services</a></li><ul><li class=collapse id=pidocscloudmesh-rest></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-pidocscollection href=/pi/docs/collection/>Links</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/software/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Software</a></li><ul><li class=collapse id=pidocssoftware><a class="td-sidebar-link td-sidebar-link__page" id=m-pidocssoftwarefortran href=/pi/docs/software/fortran/>Fortan</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocssoftwaremotherboard-led href=/pi/docs/software/motherboard-led/>Motherboard LED</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocssoftwarerun-at-boot href=/pi/docs/software/run-at-boot/>Run at Boot</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pi/docs/hardware/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Hardware</a></li><ul><li class=collapse id=pidocshardware><a class="td-sidebar-link td-sidebar-link__page" id=m-pidocshardwarepi href=/pi/docs/hardware/pi/>Raspberry PI 3</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocshardwarecase href=/pi/docs/hardware/case/>Pi Cluster Form Factor</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocshardwarelinks href=/pi/docs/hardware/links/>Pi Clusters on the Internet</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-pidocshardwareboard href=/pi/docs/hardware/board/>Raspberry PI Board</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudmesh/pi//edit/main/content/en/docs/linux/ssh/ssh.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/cloudmesh/pi//new/main/content/en/docs/linux/ssh/ssh.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>Create child page</a>
<a href="https://github.com/cloudmesh/pi//issues/new?title=SSH" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/cloudmesh/pi//issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a>
<a id=print href=https://cloudmesh.github.io/pi/docs/linux/ssh/_print/><i class="fa fa-print fa-fw"></i>Print entire section</a></div><nav id=TableOfContents><ul><li><a href=#ssh-keygen>ssh-keygen</a></li><li><a href=#ssh-add>ssh-add</a></li><li><a href=#ssh-add-and-agent>SSH Add and Agent</a></li><li><a href=#using-ssh-on-mac-os-x>Using SSH on Mac OS X</a></li><li><a href=#using-ssh-on-linux>Using SSH on Linux</a></li><li><a href=#using-ssh-on-raspberry-pi-34>Using SSH on Raspberry Pi 3/4</a></li><li><a href=#accessing-a-remote-machine>Accessing a Remote Machine</a></li><li><a href=#ssh-port-forwarding-o2>SSH Port Forwarding :o2:</a><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#how-to-restart-the-server>How to Restart the Server</a></li><li><a href=#types-of-port-forwarding>Types of Port Forwarding</a></li><li><a href=#local-port-forwarding>Local Port Forwarding</a></li><li><a href=#remote-port-forwarding>Remote Port Forwarding</a></li><li><a href=#dynamic-port-forwarding>Dynamic Port Forwarding</a></li><li><a href=#ssh-config>ssh config</a></li></ul></li><li><a href=#tips>Tips</a></li><li><a href=#references>References</a></li><li><a href=#ssh-exercises>SSH Exercises</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://cloudmesh.github.io/pi/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://cloudmesh.github.io/pi/docs/linux/>Linux</a></li><li class=breadcrumb-item><a href=https://cloudmesh.github.io/pi/docs/linux/ssh/>SSH</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://cloudmesh.github.io/pi/docs/linux/ssh/ssh/>Introduction</a></li></ol></nav><div class=td-content><h1>SSH</h1><div class="pageinfo pageinfo-primary"><p><strong>Learning Objectives</strong></p><p>For distributed computing understanding SSH is an important goal. It allows you to securely log in to
your nodes on the cluster.</p><ul><li>This is a very important topic, studdy it carefully.</li><li>Learn how to use SSH keys</li><li>Learn how to use ssh-add and ssh-keycahin so you only have to type
in your password once</li><li>Understand that each computer needs its own ssh key</li></ul><p><strong>Topics Covered</strong></p><div class=toc><nav id=TableOfContents><ul><li><a href=#ssh-keygen>ssh-keygen</a></li><li><a href=#ssh-add>ssh-add</a></li><li><a href=#ssh-add-and-agent>SSH Add and Agent</a></li><li><a href=#using-ssh-on-mac-os-x>Using SSH on Mac OS X</a></li><li><a href=#using-ssh-on-linux>Using SSH on Linux</a></li><li><a href=#using-ssh-on-raspberry-pi-34>Using SSH on Raspberry Pi 3/4</a></li><li><a href=#accessing-a-remote-machine>Accessing a Remote Machine</a></li><li><a href=#ssh-port-forwarding-o2>SSH Port Forwarding :o2:</a><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#how-to-restart-the-server>How to Restart the Server</a></li><li><a href=#types-of-port-forwarding>Types of Port Forwarding</a></li><li><a href=#local-port-forwarding>Local Port Forwarding</a></li><li><a href=#remote-port-forwarding>Remote Port Forwarding</a></li><li><a href=#dynamic-port-forwarding>Dynamic Port Forwarding</a></li><li><a href=#ssh-config>ssh config</a></li></ul></li><li><a href=#tips>Tips</a></li><li><a href=#references>References</a></li><li><a href=#ssh-exercises>SSH Exercises</a></li></ul></nav></div></div><hr><p><a href=http://openssh.com/manual.html>Secure Shell</a> is a network protocol
allowing users to securely connect to remote resources over the
internet. In many services we need to use SSH to assure that we
protect he messages send between the communicating entities. Secure
Shell is based on public key technology requiring to generate a
public-private key pair on the computer. The public key will than be
uploaded to the remote machine and when a connection is established
during authentication the public private key pair is tested. If they
match authentication is granted. As many users may have to share a
computer it is possible to add a list of public keys so that a number
of computers can connect to a server that hosts such a list. This
mechanism builds the basis for networked computers.</p><p>In this section we will introduce you to some of the commands to
utilize secure shell. We will reuse this technology in other sections
to for example create a network of workstations to which we can log in
from your laptop. For more information please also consult with the
<a href=http://openssh.com/manual.html>SSH Manual</a>.</p><hr><blockquote><p><img src=images/warning.png alt=Warning> Whatever others tell you, the private key should never be
copied to another machine. You almost always want to have a passphrase
protecting your key.</p></blockquote><hr><h2 id=ssh-keygen>ssh-keygen</h2><p>The first thing you will need to do is to create a public private
key pair. Before you do this check whether there are already keys on
the computer you are using:</p><pre><code>ls ~/.ssh
</code></pre><p>If there are files named id_rsa.pub or id_dsa.pub, then the keys are set up
already, and we can skip the generating keys step. However you must
know the passphrase of the key. If you forgot it you will need to
recreate the key. However you will lose any ability to connect with
the old key to the resources to which you uploaded the public key. So
be careful.</p><p>To generate a key pair use the command
<a href=http://linux.die.net/man/1/ssh-keygen>ssh-keygen</a>. This program is
commonly available on most UNIX systems and most recently even
Windows 10.</p><p>To generate the key, please type:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh-keygen -t rsa -C &lt;comment&gt;
</code></pre></div><p>The comment will remind you where the key has been created, you could
for example use the hostname on which you created the key.</p><p>In the following text we will use <em>localname</em> to indicate the username
on your computer on which you execute the command.</p><p>The command requires the interaction of the user. The first question
is:</p><pre><code>Enter file in which to save the key (/home/localname/.ssh/id_rsa):
</code></pre><p>We recommend using the default location ~/.ssh/ and the default name
id_rsa. To do so, just press the enter key.</p><p>The second and third question is to protect your ssh key with a
passphrase. This passphrase will protect your key because you need to
type it when you want to use it. Thus, you can either type a passphrase
or press enter to leave it without passphrase. To avoid security
problems, you <strong>MUST</strong> chose a passphrase.</p><p>It will ask you for the location and name of the new key. It will
also ask you for a passphrase, which you <strong>MUST</strong> provide. Please use
a strong passphrase to protect it appropriately. Some may advise you
(including teachers and TA&rsquo;s) to not use passphrases. This is
<strong>WRONG</strong> as it allows someone that gains access to your computer to
also gain access to all resources that have the public key.
Only for some system related services you may create
passwordless keys, but such systems need to be properly protected.</p><hr><blockquote><p><img src=images/warning.png alt=Warning> <em>Not using passphrases poses a security risk!</em></p></blockquote><hr><p>Make sure to not just type
return for an empty passphrase:</p><pre><code>Enter passphrase (empty for no passphrase):
</code></pre><p>and:</p><pre><code>Enter same passphrase again:
</code></pre><p>If executed correctly, you will see some output similar to:</p><pre><code>Generating public/private rsa key pair.
Enter file in which to save the key (/home/localname/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/localname/.ssh/id_rsa.
Your public key has been saved in /home/localname/.ssh/id_rsa.pub.
The key fingerprint is:
34:87:67:ea:c2:49:ee:c2:81:d2:10:84:b1:3e:05:59 localname@indiana.edu

+--[ RSA 2048]----+
|.+...Eo= .       |
| ..=.o + o +o    |
|O.  = ......     |
| = .   . .       |
+-----------------+
</code></pre><p>Once, you have generated your key, you should have them in the <code>.ssh</code>
directory. You can check it by:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat ~/.ssh/id_rsa.pub
</code></pre></div><p>If everything is normal, you will see something like:</p><pre><code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCXJH2iG2FMHqC6T/U7uB8kt
6KlRh4kUOjgw9sc4Uu+Uwe/kshuispauhfsjhfm,anf6787sjgdkjsgl+EwD0
thkoamyi0VvhTVZhj61pTdhyl1t8hlkoL19JVnVBPP5kIN3wVyNAJjYBrAUNW
4dXKXtmfkXp98T3OW4mxAtTH434MaT+QcPTcxims/hwsUeDAVKZY7UgZhEbiE
xxkejtnRBHTipi0W03W05TOUGRW7EuKf/4ftNVPilCO4DpfY44NFG1xPwHeim
Uk+t9h48pBQj16FrUCp0rS02Pj+4/9dNeS1kmNJu5ZYS8HVRhvuoTXuAY/UVc
ynEPUegkp+qYnR user@myemail.edu
</code></pre><p>The directory <code>~/.ssh</code> will also contain the private key <code>id_rsa</code> which you
must not share or copy to another computer.</p><hr><blockquote><p><img src=images/warning.png alt=Warning> <em>Never, copy your private key to another machine or check it into a repository!</em></p></blockquote><hr><p>To see what is in the .ssh directory, please use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ls ~/.ssh
</code></pre></div><p>Typically you will se a list of files such as</p><pre><code>authorized_keys
id_rsa
id_rsa.pub
known_hosts
</code></pre><p>In case you need to change your change passphrase, you can simply run
<code>ssh-keygen -p</code> command. Then specify the location of your current key,
and input (old and) new passphrases. There is no need to re-generate
keys:</p><pre><code>ssh-keygen -p
</code></pre><p>You will see the following output once you have completed that step:</p><pre><code>Enter file in which the key is (/home/localname/.ssh/id_rsa):
Enter old passphrase:
Key has comment '/home/localname/.ssh/id_rsa'
Enter new passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved with the new passphrase.
</code></pre><h2 id=ssh-add>ssh-add</h2><p>Often you wil find wrong information about passphrases on the internet
and people recommending you not to use one. However it is in almost
all cases better to create a key pair and use <code>ssh-add</code> to add the key to
the current session so it can be used in behalf of you. This is
accomplished with an agent.</p><p>The <code>ssh-add</code> command adds SSH private keys into the SSH authentication
agent for implementing single sign-on with SSH. ssh-add allows the
user to use any number of servers that are spread across any number of
organizations, without having to type in a password every time when
connecting between servers. This is commonly used by system
administrators to login to multiple server.</p><p><code>ssh-add</code> can be run without arguments. When run without arguments, it
adds the following default files if they do exist:</p><ul><li><code>~/.ssh/identity</code> - Contains the protocol version 1 RSA authentication
identity of the user.</li><li><code>~/.ssh/id_rsa</code> - Contains the protocol version 1 RSA authentication
identity of the user.</li><li><code>~/.ssh/id_dsa</code> - Contains the protocol version 2 DSA authentication
identity of the user.</li><li><code>~/.ssh/id_ecdsa</code> - Contains the protocol version 2 ECDSA
authentication identity of the user.</li></ul><p>To add a key you can provide the path of the key file as an
argument to ssh-add. For example,</p><pre><code>ssh-add ~/.ssh/id_rsa
</code></pre><p>would add the file <code>~/.ssh/id_rsa</code></p><p>If the key being added has a passphrase, <code>ssh-add</code> will run the
<code>ssh-askpass</code> program to obtain the passphrase from the user. If the
<code>SSH_ASKPASS</code> environment variable is set, the program given by that
environment variable is used instead.</p><p>Some people use the <code>SSH_ASKPASS</code> environment variable in scripts to
provide a passphrase for a key. The passphrase might then be
hard-coded into the script, or the script might fetch it from a
password vault.</p><p>The command line options of <code>ssh-add</code> are as follows:</p><table><thead><tr><th style=text-align:left>Option</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>-c</code></td><td style=text-align:left>Causes a confirmation to be requested from the user every time the added identities are used for authentication. The confirmation is requested using ssh-askpass.</td></tr><tr><td style=text-align:left><code>-D</code></td><td style=text-align:left>Deletes all identities from the agent.</td></tr><tr><td style=text-align:left><code>-d</code></td><td style=text-align:left>Deletes the given identities from the agent. The private key files for the identities to be deleted should be listed on the command line.</td></tr><tr><td style=text-align:left><code>-e</code> pkcs11</td><td style=text-align:left>Remove key provided by pkcs11</td></tr><tr><td style=text-align:left><code>-L</code></td><td style=text-align:left>Lists public key parameters of all identities currently represented by the agent.</td></tr><tr><td style=text-align:left><code>-l</code></td><td style=text-align:left>Lists fingerprints of all identities currently represented by the agent.</td></tr><tr><td style=text-align:left><code>-s</code> pkcs11</td><td style=text-align:left>Add key provided by pkcs11.</td></tr><tr><td style=text-align:left><code>-t</code> life</td><td style=text-align:left>Sets the maximum time the agent will keep the given key. After the timeout expires, the key will be automatically removed from the agent. The default value is in seconds, but can be suffixed for m for minutes, h for hours, d for days, or w for weeks.</td></tr><tr><td style=text-align:left><code>-X</code></td><td style=text-align:left>Unlocks the agent. This asks for a password to unlock.</td></tr><tr><td style=text-align:left><code>-x</code></td><td style=text-align:left>Locks the agent. This asks for a password; the password is required for unlocking the agent. When the agent is locked, it cannot be used for authentication.</td></tr></tbody></table><h2 id=ssh-add-and-agent>SSH Add and Agent</h2><p>To not always type in your password, you can use <code>ssh-add</code> as
previously discussed</p><p>It prompts the user for a private key passphrase and add it to a list of
keys managed by the ssh-agent. Once it is in this list, you will not be
asked for the passphrase as long as the agent is running.with your
public key. To use the key across terminal shells you can start an ssh agent.</p><p>To start the agent please use the following command:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ <span style=color:#204a87>eval</span> <span style=color:#4e9a06>`</span>ssh-agent<span style=color:#4e9a06>`</span>
</code></pre></div><p>or use</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ <span style=color:#204a87>eval</span> <span style=color:#4e9a06>&#34;</span><span style=color:#204a87;font-weight:700>$(</span>ssh-agent -s<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span>
</code></pre></div><p>It is important that you use the backquote, located under the tilde
(US keyboard), rather than the single quote. Once the agent is started
it will print a PID that you can use to interact with later</p><p>To add the key use the command</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh-add
</code></pre></div><p>To remove the agent use the command</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>kill</span> <span style=color:#000>$SSH_AGENT_PID</span>
</code></pre></div><p>To execute the command upon logout, place it in your <code>.bash_logout</code>
(assuming you use bash).</p><p>On OSX you can also add the key permanently to the keychain if you do
toe following:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ssh-add -K ~/.ssh/id_rsa
</code></pre></div><p>Modify the file <code>.ssh/config</code> and add the following lines:</p><pre><code>Host *
  UseKeychain yes
  AddKeysToAgent yes
  IdentityFile ~/.ssh/id_rsa
</code></pre><h2 id=using-ssh-on-mac-os-x>Using SSH on Mac OS X</h2><p>Mac OS X comes with an ssh client. In order to use it you need to open
the <code>Terminal.app</code> application. Go to <code>Finder</code>, then click <code>Go</code> in the
menu bar at the top of the screen. Now click <code>Utilities</code> and then open
the <code>Terminal</code> application.</p><h2 id=using-ssh-on-linux>Using SSH on Linux</h2><p>All Linux versions come with ssh and can be used right from the
terminal.</p><h2 id=using-ssh-on-raspberry-pi-34>Using SSH on Raspberry Pi 3/4</h2><p>SSH is available on Raspbian. However, to ssh into the PI you have to
activate it via the configuration menu.</p><h2 id=accessing-a-remote-machine>Accessing a Remote Machine</h2><p>Once the key pair is generated, you can use it to access a remote
machine. To dod so the public key needs to be added to the
<code>authorized_keys</code> file on the remote machine.</p><p>The easiest way to do tis is to use the command
<code>ssh-copy-id</code>.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh-copy-id user@host
</code></pre></div><p>Note that the first time you will have to authenticate with your password.</p><p>Alternatively, if the ssh-copy-id is not available on your system, you
can copy the file manually over SSH:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat ~/.ssh/id_rsa.pub <span style=color:#000;font-weight:700>|</span> ssh user@host <span style=color:#4e9a06>&#39;cat &gt;&gt; .ssh/authorized_keys&#39;</span>
</code></pre></div><p>Now try:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh user@host
</code></pre></div><p>and you will not be prompted for a password. However, if you set a
passphrase when creating your SSH key, you will be asked to enter the
passphrase at that time (and whenever else you log in in the future).
To avoid typing in the password all the time we use the ssh-add
command that we described earlier.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh-add
</code></pre></div><h2 id=ssh-port-forwarding-o2>SSH Port Forwarding :o2:</h2><p>:o2: TODO: Add images to illustrate the concepts</p><p>SSH Port forwarding (SSH tunneling) creates an encrypted secure
connection between a local computer and a remote computer through
which services can be relayed. Because the connection is encrypted,
SSH tunneling is useful for transmitting information that uses an
unencrypted protocol.</p><h3 id=prerequisites>Prerequisites</h3><ul><li>Before you begin, you need to check if forwarding is allowed on the
SSH server you will connect to.</li><li>You also need to have a SSH client on the computer you are working
on.</li></ul><p>If you are using the OpenSSH server:</p><pre><code>$ vi /etc/ssh/sshd_config
</code></pre><p>and look and change the following:</p><pre><code>AllowTcpForwarding = Yes
GatewayPorts = Yes
</code></pre><p>Set the <code>GatewaysPorts</code> variable only if you are going to use remote
port forwarding (discussed later in this tutorial). Then, you need to
restart the server for the change to take effect.</p><h3 id=how-to-restart-the-server>How to Restart the Server</h3><p>If you are on:</p><ul><li><p>Linux, depending upon the init system used by your distribution, run:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash> $ sudo systemctl restart sshd
 $ sudo service sshd restart
</code></pre></div><p>Note that depending on your distribution, you may have to change the
service to ssh instead of sshd.</p></li><li><p>Mac, you can restart the server using:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo launchctl unload /System/Library/LaunchDaemons/ssh.plist
$ sudo launchctl load -w /System/Library/LaunchDaemons/ssh.plist
</code></pre></div></li><li><p>Windows and want to set up a SSH server, have a look at MSYS2 or Cygwin.</p></li></ul><h3 id=types-of-port-forwarding>Types of Port Forwarding</h3><p>There are three types of SSH Port forwarding:</p><h3 id=local-port-forwarding>Local Port Forwarding</h3><p>Local port forwarding lets you connect from your local computer to
another server. It allows you to forward traffic on a port of your
local computer to the SSH server, which is forwarded to a destination
server. To use local port forwarding, you need to know your
destination server, and two port numbers.</p><p>Example 1:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -L 8080:www.cloudcomputing.org:80 &lt;host&gt;
</code></pre></div><p>Where <code>&lt;host></code> should be replaced by the name of your laptop. The -L
option specifies local port forwarding. For the duration of the SSH
session, pointing your browser at <code>http://localhost:8080/</code> would send
you to <code>http://cloudcomputing.com</code></p><p>Example 2:</p><p>This example opens a connection to the <a href=http://www.cloudcomputing.com>www.cloudcomputing.com</a> jump
server, and forwards any connection to port 80 on the local machine to
port 80 on <code>intra.example.com</code>.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -L 80:intra.example.com:80 www.cloudcomputing.com
</code></pre></div><p>Example 3:</p><p>By default, anyone (even on different machines) can connect to the
specified port on the SSH client machine. However, this can be
restricted to programs on the same host by supplying a bind address:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -L 127.0.0.1:80:intra.example.com:80 www.cloudcomputing.com
</code></pre></div><p>Example 4:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -L 8080:www.Cloudcomputing.com:80 -L 12345:cloud.com:80 &lt;host&gt;
</code></pre></div><p>This would forward two connections, one to <code>www.cloudcomputing.com</code>, the
other to <code>www.cloud.com</code>. Pointing your browser at
<code>http://localhost:8080/</code> would download pages from
<a href=http://www.cloudcomputing.com>www.cloudcomputing.com</a>, and pointing your browser to
<code>http://localhost:12345/</code> would download pages from <a href=http://www.cloud.com>www.cloud.com</a>.</p><p>Example 5:</p><p>The destination server can even be the same as the SSH server.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -L 5900:localhost:5900 &lt;host&gt;
</code></pre></div><p>The LocalForward option in the OpenSSH client configuration file can
be used to configure forwarding without having to specify it on
command line.</p><h3 id=remote-port-forwarding>Remote Port Forwarding</h3><p>Remote port forwarding is the exact opposite of local port
forwarding. It forwards traffic coming to a port on your server to
your local computer, and then it is sent to a destination. The first
argument should be the remote port where traffic will be directed on
the remote system. The second argument should be the address and port
to point the traffic to when it arrives on the local system.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -R 9000:localhost:3000 user@clodcomputing.com
</code></pre></div><p>SSH does not by default allow remote hosts to forwarded ports. To
enable remote forwarding add the following to: <code>/etc/ssh/sshd_config</code></p><pre><code>GatewayPorts yes
</code></pre><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo vim /etc/ssh/sshd_config
</code></pre></div><p>and restart SSH</p><pre><code>$ sudo service ssh restart
</code></pre><p>After completing the previous steps you should be able to connect to the server
remotely, even from your local machine. <code>ssh -R</code> first creates an SSH
tunnel that forwards traffic from the server on port 9000 to your
local machine on port 3000.</p><h3 id=dynamic-port-forwarding>Dynamic Port Forwarding</h3><p>Dynamic port forwarding turns your SSH client into a SOCKS proxy
server. SOCKS is a little-known but widely-implemented protocol for
programs to request any Internet connection through a proxy
server. Each program that uses the proxy server needs to be configured
specifically, and reconfigured when you stop using the proxy server.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh -D <span style=color:#0000cf;font-weight:700>5000</span> user@clodcomputing.com
</code></pre></div><p>The SSH client creates a SOCKS proxy at port 5000 on your local
computer. Any traffic sent to this port is sent to its destination
through the SSH server.</p><p>Next, youll need to configure your applications to use this server.
The <em>Settings</em> section of most web browsers allow you to use a SOCKS
proxy.</p><h3 id=ssh-config>ssh config</h3><p>Defaults and other configurations can be added to a configuration file
that is placed in the system. The ssh program on a host receives its configuration
from</p><ul><li>the command line options</li><li>a user-specific configuration file: <code>~/.ssh/config</code></li><li>a system-wide configuration file: <code>/etc/ssh/ssh_config</code></li></ul><p>Next we provide an example on how to use a config file</p><h2 id=tips>Tips</h2><p>Use SSH keys</p><ul><li>You will need to use ssh keys to access remote machines</li></ul><p>No blank passphrases</p><ul><li>In most cases you must use a passphrase with your key. In fact if we
find that you use passwordless keys to futuresystems and to
chameleon cloud resources, we may elect to give you an<em>F</em> for the
assignment in question. There are some exceptions, but they will be
clearly communicated to you in class. You will as part of your cloud
drivers license test explain how you gain access to futuresystems
and chameleon to explicitly explain this point and provide us with
reasons what you can not do.</li></ul><p>A key for each server</p><ul><li>Under no circumstances copy the same private key on multiple
servers. This violates security best practices. Create for each
server a new private key and use their public keys to gain access to
the appropriate server.</li></ul><p>Use SSH agent</p><ul><li><p>So as to not to type in all the time the passphrase for a key, we
recommend using ssh-agent to manage the login. This will be part of
your cloud drivers license.</p><p>But shut down the ssh-agent if not in use</p></li></ul><p>keep an offline backup, put encrypt the drive</p><ul><li>You may for some of our projects need to make backups of private
keys on other servers you set up. If you like to make a backup you
can do so on a USB stick, but make sure that access to the stick is
encrypted. Do not store anything else on that key and look it in a
safe place. If you lose the stick, recreate all keys on all
machines.</li></ul><h2 id=references>References</h2><ul><li><a href=http://shop.oreilly.com/product/9780596008956.do>The Secure Shell: The Definitive Guide, 2 Ed (O&rsquo;Reilly and
Associates)</a></li></ul><h2 id=ssh-exercises>SSH Exercises</h2><p>E.SSH.1:</p><blockquote><p>Create an SSH key pair</p></blockquote><p>E.SSH.2:</p><blockquote><p>Upload the public key to git repository you use.</p></blockquote><p>E.SSH.3:</p><blockquote><p>What is the output of a key that has a passphrase when executing the
following command. Test it out on your key</p><pre><code> $ grep ENCRYPTED ~/.ssh/id_rsa
</code></pre></blockquote><p>E.SSH.4</p><blockquote><p>Get an account on futuresystems.org (if you are authorized to do
so). Upload your key to <a href=https://futuresystems.org>https://futuresystems.org</a>. Login to
india.futuresystems.org. Note that this could take some time as
administrators need to approve you. Be patient.</p></blockquote><p>E.SSH.5:</p><blockquote><p>What can happen if you copy your private key to a machine on the network?</p></blockquote><p>E.SSH.6:</p><blockquote><p>Should I share my provate key with others?</p></blockquote><p>E.SSH.7:</p><blockquote><p>Assume I participate in a video conference call and I accidently share
my private key. What should I do?</p></blockquote><p>E.SSH.8:</p><blockquote><p>Assume I participate in a video conference call and I accidently share
my public key. What should I do?</p></blockquote><div class="text-muted mt-5 pt-3 border-top">Last modified February 9, 2021: <a href=https://github.com/cloudmesh/pi//commit/2c870d01c5e881a81d10cf61d0faaf2780744af2>improve ssh, openapi (2c870d0)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Gregor von Laszewski" aria-label="Gregor von Laszewski"><a class=text-white target=_blank rel="noopener noreferrer" href=https://laszewski.github.io><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Cloudmesh GitHub" aria-label="Cloudmesh GitHub"><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/cloudmesh><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Web Site GitHub" aria-label="Web Site GitHub"><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/cloudmesh/pi><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Cloudmesh Community Slack" aria-label="Cloudmesh Community Slack"><a class=text-white target=_blank rel="noopener noreferrer" href=https://cloudmesh-community.slack.com><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=https://groups.google.com/g/piplanet><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The Cloudmesh Projects, Gregor von Laszewski All Rights Reserved</small><p class=mt-2><a href=/pi/about/>About Cloudmesh Pi</a></p></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/pi/js/main.min.ff304e9949717e3408e45c6399bef7e0834e330b2cbb0a5a5ac54227112a59c0.js integrity="sha256-/zBOmUlxfjQI5Fxjmb734INOMwssuwpaWsVCJxEqWcA=" crossorigin=anonymous></script></body></html>